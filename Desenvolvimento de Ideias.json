{
  "name": "Desenvolvimento de Ideias",
  "nodes": [
    {
      "parameters": {},
      "type": "n8n-nodes-base.manualTrigger",
      "typeVersion": 1,
      "position": [
        -256,
        60
      ],
      "id": "3657b4b7-6307-4135-97d4-b05c69e425a0",
      "name": "When clicking ‚ÄòExecute workflow‚Äô"
    },
    {
      "parameters": {
        "model": {
          "__rl": true,
          "value": "gpt-4o-mini",
          "mode": "list",
          "cachedResultName": "gpt-4o-mini"
        },
        "options": {}
      },
      "type": "@n8n/n8n-nodes-langchain.lmChatOpenAi",
      "typeVersion": 1.2,
      "position": [
        488,
        284
      ],
      "id": "3a71ba85-4a5e-43cd-9097-98ea529dc4b8",
      "name": "OpenAI Chat Model",
      "credentials": {
        "openAiApi": {
          "id": "CadVJxAMfFuUEGRV",
          "name": "Guilherme"
        }
      }
    },
    {
      "parameters": {
        "documentId": {
          "__rl": true,
          "value": "1XlZTABwHA456bYCFRiS8BFLxynypmo65pXeBeRV1WkQ",
          "mode": "list",
          "cachedResultName": "Teste Dev IA Pleno",
          "cachedResultUrl": "https://docs.google.com/spreadsheets/d/1XlZTABwHA456bYCFRiS8BFLxynypmo65pXeBeRV1WkQ/edit?usp=drivesdk"
        },
        "sheetName": {
          "__rl": true,
          "value": 1109606750,
          "mode": "list",
          "cachedResultName": "IDentifica√ß√£o de padr√µes",
          "cachedResultUrl": "https://docs.google.com/spreadsheets/d/1XlZTABwHA456bYCFRiS8BFLxynypmo65pXeBeRV1WkQ/edit#gid=1109606750"
        },
        "options": {}
      },
      "type": "n8n-nodes-base.googleSheets",
      "typeVersion": 4.7,
      "position": [
        -32,
        60
      ],
      "id": "655bff9f-cdf9-4930-97c3-7e991aa636d7",
      "name": "Get row(s) in sheet",
      "credentials": {
        "googleSheetsOAuth2Api": {
          "id": "KrBqg4twP2wKcI6z",
          "name": "Google Sheets account"
        }
      }
    },
    {
      "parameters": {
        "assignments": {
          "assignments": [
            {
              "id": "bd5a778b-3ceb-404d-a503-be750b1f4d6a",
              "name": "LACUNAS",
              "value": "={{ $json.Lacunas }}",
              "type": "string"
            },
            {
              "id": "e19c0574-ff7f-4604-85da-d7fd14f35619",
              "name": "TituloPositivo",
              "value": "={{ $json.TituloPositivo }}",
              "type": "string"
            },
            {
              "id": "bc594b01-4554-480b-812b-d17782160543",
              "name": "TituloNegativo",
              "value": "={{ $json.TituloNegativo }}",
              "type": "string"
            },
            {
              "id": "b7b59f7a-320f-4519-b74e-1490607585a2",
              "name": "Roteiro",
              "value": "={{ $json.Roteiro }}",
              "type": "string"
            },
            {
              "id": "4606270a-7e44-489f-9bcc-e72193719e95",
              "name": "Thumb",
              "value": "",
              "type": "string"
            }
          ]
        },
        "options": {}
      },
      "type": "n8n-nodes-base.set",
      "typeVersion": 3.4,
      "position": [
        192,
        60
      ],
      "id": "5c08d06e-b3d8-4830-8805-2cdaf8d71c6e",
      "name": "Edit Fields"
    },
    {
      "parameters": {
        "promptType": "define",
        "text": "={{ $json.LACUNAS }}",
        "options": {
          "systemMessage": "=üß© Agente 1 ‚Äì \"Gerador de Ideias Brutas\"\n\nFun√ß√£o: Pegar as lacunas (j√° filtradas e com dados) e gerar a ideia central do v√≠deo, sem t√≠tulo nem copy.\n\n<role>\nVoc√™ √© um Gerador de Ideias Brutas para v√≠deos do YouTube.\n</role>\n\n<input>\nVoc√™ receber√° uma lista de lacunas identificadas automaticamente, com:\n- tema\n- videosExistentes\n- concorrencia\n- outlierScoreMedio\n- exemplos\n\nVoc√™ N√ÉO deve criar t√≠tulo nem copy.  \nSeu trabalho √© identificar **qual insight ou abordagem** poderia virar um v√≠deo de alto potencial.\n</input>\n\n<task>\nPara cada lacuna, gere **1 insight de conte√∫do**.\n\nDescreva:\n- **id√©ia_central:** conceito bruto do v√≠deo\n- **√¢ngulo:** que emo√ß√£o ou valor ela ativa (ex: curiosidade, medo, autoridade)\n- **formato_sugerido:** ex: lista, rotina, teste r√°pido, alerta, antes/depois\n- **tema_principal:** alimento, exerc√≠cio, vitamina, sintoma etc.\n- **oportunidade:** por que essa lacuna tem espa√ßo (concorr√™ncia + performance)\n</task>\n\n<output_format>\n{\n  \"ideias_brutas\": [\n    {\n      \"ranking\": 1,\n      \"tema\": \"string\",\n      \"ideia_central\": \"string\",\n      \"angulo\": \"string\",\n      \"formato_sugerido\": \"string\",\n      \"tema_principal\": \"string\",\n      \"oportunidade\": \"string\"\n    }\n  ]\n}\n</output_format>"
        }
      },
      "type": "@n8n/n8n-nodes-langchain.agent",
      "typeVersion": 2.2,
      "position": [
        416,
        60
      ],
      "id": "2246304b-0e96-45f3-b3c9-2d64b5dc1ca0",
      "name": "AI Agent"
    },
    {
      "parameters": {
        "jsCode": "// Code node: parsear $input.first().json.output e emitir N itens\n\nconst MAX = 15;\n\n// 1) Ler e fazer parse seguro\nconst root = $input.first()?.json || {};\nif (!root.output) {\n  throw new Error(\"Payload inv√°lido: n√£o encontrei 'output' em $input.first().json\");\n}\n\nlet obj;\ntry {\n  obj = JSON.parse(root.output);\n} catch (e) {\n  throw new Error(\"Falha ao fazer JSON.parse de 'output': \" + e.message);\n}\n\n// 2) Validar estrutura esperada\nif (!obj || !Array.isArray(obj.ideias_brutas)) {\n  throw new Error(\"Formato inv√°lido: esperava { ideias_brutas: [...] } dentro de output.\");\n}\n\n// 3) Cortar em 15\nconst ideias = obj.ideias_brutas.slice(0, MAX);\n\n// 4) Emitir 1 item por ideia (bom para pr√≥ximos n√≥s)\nconst meta = {\n  total_recebido: obj.ideias_brutas.length,\n  total_emitido: ideias.length,\n};\n\nreturn ideias.map((idea, idx) => ({\n  json: {\n    meta,\n    index: idx + 1,\n    ...idea, // ranking, tema, ideia_central, angulo, formato_sugerido, tema_principal, oportunidade\n  }\n}));\n\n\n\n"
      },
      "type": "n8n-nodes-base.code",
      "typeVersion": 2,
      "position": [
        768,
        60
      ],
      "id": "07e639e3-9c7a-46a0-903b-d35e18ee4893",
      "name": "Code in JavaScript"
    },
    {
      "parameters": {
        "options": {}
      },
      "type": "n8n-nodes-base.splitInBatches",
      "typeVersion": 3,
      "position": [
        992,
        60
      ],
      "id": "9c092349-33a4-4e91-863c-61fa8f67a8f4",
      "name": "Loop Over Items"
    },
    {
      "parameters": {
        "model": {
          "__rl": true,
          "value": "gpt-4o-mini",
          "mode": "list",
          "cachedResultName": "gpt-4o-mini"
        },
        "options": {}
      },
      "type": "@n8n/n8n-nodes-langchain.lmChatOpenAi",
      "typeVersion": 1.2,
      "position": [
        1288,
        160
      ],
      "id": "d4e37349-fb8c-4a44-a448-e46b6718690d",
      "name": "OpenAI Chat Model1",
      "credentials": {
        "openAiApi": {
          "id": "CadVJxAMfFuUEGRV",
          "name": "Guilherme"
        }
      }
    },
    {
      "parameters": {
        "promptType": "define",
        "text": "=Tema:{{ $json.tema }}\nIdeia Central: {{ $json.ideia_central }}\nAngulo:{{ $json.angulo }}\nFormado sugerido: {{ $json.formato_sugerido }}\ntema principal: {{ $json.tema_principal }}\nOportunidade: {{ $json.oportunidade }}\n\nAnalise de titulos que deram certo: {{ $('Edit Fields').item.json.TituloPositivo }}\n\nAnalise de titulos que deram Errado: {{ $('Edit Fields').item.json.TituloNegativo }}",
        "options": {
          "systemMessage": "=<role>\nVoc√™ √© um Arquiteto de T√≠tulos de Alta Performance no YouTube.\n</role>\n\n<input>\nVoc√™ receber√° uma lista de **ideias brutas**, com campos:\n- ideia_central\n- angulo\n- formato_sugerido\n- tema_principal\n\nAl√©m disso, recebe:\n- estruturas eficazes (das oper√°rias #1 e #2)\n- gatilhos e n√∫meros mais comuns\n</input>\n\n<task>\nPara cada ideia:\n- Transforme a ideia em **1 t√≠tulo otimizado (PT-BR)** com 50‚Äì75 caracteres\n- Use **gatilho emocional** + **n√∫mero** + **benef√≠cio claro**\n- Adapte o formato (teste, rotina, alerta, etc.) conforme `formato_sugerido`\n- Retorne tamb√©m:\n  - gatilho_usado\n  - numero_usado\n  - estrutura_aplicada\n</task>\n\n<output_format>\n{\n  \"titulos_otimizados\": [\n    {\n      \"ranking\": 1,\n      \"titulo\": \"string (50‚Äì75 chars)\",\n      \"gatilho_usado\": \"string\",\n      \"numero_usado\": number,\n      \"estrutura_aplicada\": \"string\",\n      \"origem\": \"ideia_central\"\n    }\n  ]\n}\n</output_format>\n"
        }
      },
      "type": "@n8n/n8n-nodes-langchain.agent",
      "typeVersion": 2.2,
      "position": [
        1216,
        -64
      ],
      "id": "c67a56c8-37cd-4b22-83ac-fc11b2f71bf5",
      "name": "AI Agent1"
    },
    {
      "parameters": {
        "model": {
          "__rl": true,
          "value": "gpt-4o-mini",
          "mode": "list",
          "cachedResultName": "gpt-4o-mini"
        },
        "options": {}
      },
      "type": "@n8n/n8n-nodes-langchain.lmChatOpenAi",
      "typeVersion": 1.2,
      "position": [
        1640,
        160
      ],
      "id": "b9f76937-0ba0-4b7b-b006-82092a807d17",
      "name": "OpenAI Chat Model2",
      "credentials": {
        "openAiApi": {
          "id": "CadVJxAMfFuUEGRV",
          "name": "Guilherme"
        }
      }
    },
    {
      "parameters": {
        "promptType": "define",
        "text": "=An√°lises\n\nLacunas:{{ $('Edit Fields').item.json.LACUNAS }}\n\nAnalise de titulos que deram certo: {{ $('Edit Fields').item.json.TituloPositivo }}\n\nAnalise de titulos que deram Errado:{{ $('Edit Fields').item.json.TituloNegativo }}\n\n---\nConte√∫do a ser avaliado:\nTitulo do video: {{ $json.output }}\nTema:{{ $('Loop Over Items').item.json.tema }}\nIdeia Central: {{ $('Loop Over Items').item.json.ideia_central }}\nAngulo:{{ $('Loop Over Items').item.json.angulo }}\nFormado sugerido: {{ $('Loop Over Items').item.json.formato_sugerido }}\ntema principal: {{ $('Loop Over Items').item.json.tema_principal }}\nOportunidade: {{ $('Loop Over Items').item.json.oportunidade }}\n\nAnalise de titulos que deram certo: {{ $('Edit Fields').item.json.TituloPositivo }}\n\n\nAnalise de titulos que deram Errado:{{ $('Edit Fields').item.json.TituloNegativo }}",
        "options": {
          "systemMessage": "=<role> Voc√™ √© um **Avaliador de Potencial Viral no YouTube**, especialista em an√°lise de t√≠tulos e desempenho. Trabalha **apenas com os dados fornecidos** (sem inventar m√©tricas ou suposi√ß√µes). Seu objetivo √© **calcular o score final (60‚Äì95)** e produzir **justificativas anal√≠ticas e detalhadas**, com base em dados reais e comparativos de benchmark. </role>\nüì• INPUT\n\nVoc√™ receber√° um ou mais blocos com os seguintes campos:\n\n{\n  \"titulo\": \"string\",\n  \"lacuna\": {\n    \"tema\": \"string\",\n    \"outlierScoreMedio\": number,\n    \"videosExistentes\": number\n  },\n  \"benchmarks\": {\n    \"p75\": number,\n    \"p90\": number\n  },\n  \"estrutura\": {\n    \"padrao\": \"string\",\n    \"gatilhoUsado\": true|false\n  },\n  \"analises_texto\": {\n    \"bons\": {...},\n    \"ruins\": {...}\n  }\n}\n\nüßÆ BENCHMARKS DE REFER√äNCIA (dados reais)\n\nBase estat√≠stica da planilha com 752 v√≠deos analisados:\n\nM√©trica\tValor\nM√©dia (mean)\t1088.48\nMediana\t20.00\nDesvio padr√£o\t4988.02\np10\t0.88\np25\t20.00\np50\t20.00\np75\t1537.47\np90\t4988.02\np95\t14913.57\np99\t29800.00\nTotal de amostras\t752 v√≠deos\n\nüî∏ Use p75 = 1537.47 e p90 = 4988.02 como limites de performance para o c√°lculo de similaridade.\nExemplo: se o outlierScoreMedio da lacuna for 3000 ‚Üí est√° acima do p75 e abaixo do p90 ‚Üí +15 pontos.\n\nüßÆ F√ìRMULA OFICIAL DO SCORE\nBase = 50\n\n// Similaridade com benchmarks\nif (outlierScoreMedio > p90) +25\nelse if (outlierScoreMedio > p75) +15\nelse if (outlierScoreMedio > 0)  +10\n\n// Concorr√™ncia\nif (videosExistentes < 5)  +20\nelse if (videosExistentes < 10) +15\nelse if (videosExistentes < 20) +10\nelse if (videosExistentes > 100) -10\n\n// Elementos do t√≠tulo\nif (tem gatilho emocional)     +8    // ATEN√á√ÉO, PARE, CUIDADO, ALERTA\nif (tem n√∫mero espec√≠fico)     +10\nif (tem idade/tempo espec√≠fico)+5\nif (tem consequ√™ncia negativa) +7\n\nScoreFinal = clamp(Score, 60, 95)\n\nüîç CLASSIFICA√á√ÉO DE CONCORR√äNCIA\n\nbaixa: videosExistentes < 10\n\nm√©dia: 10 ‚â§ videosExistentes ‚â§ 25\n\nalta: videosExistentes > 25\n\nüî† DETEC√á√ÉO DE ELEMENTOS NO T√çTULO (case-insensitive)\n\nGatilho emocional: ‚Äúaten√ß√£o‚Äù, ‚Äúpare‚Äù, ‚Äúcuidado‚Äù, ‚Äúurgente‚Äù, ‚Äúalerta‚Äù, ‚Äúwarning‚Äù\n\nN√∫mero: conter d√≠gitos (3, 5, 7, 10‚Ä¶)\n\nIdade/tempo: ‚Äúdepois dos 60‚Äù, ‚Äúem 7 dias‚Äù, ‚Äú30 segundos‚Äù, ‚Äú1 m√™s‚Äù\n\nConseq. negativa: ‚Äúnunca‚Äù, ‚Äúevite‚Äù, ‚Äúerros‚Äù, ‚Äúdestroem‚Äù, ‚Äúenfraquecem‚Äù, ‚Äúenfraquece‚Äù\n\nüß© EXTRA√á√ÉO DE PALAVRAS-CHAVE\n\nExtraia 3‚Äì6 termos relevantes do t√≠tulo (em portugu√™s)\n\nIgnore stopwords (de, para, que, com, os, as, em, do‚Ä¶)\n\nRetorne em array\n\nüß† TAREFAS\n\nCalcular o score final com base na f√≥rmula acima.\n\nDeterminar concorr√™ncia usando videosExistentes.\n\nExtrair palavras-chave do t√≠tulo.\n\nCriar uma justificativa com 2‚Äì3 frases, sempre citando:\n\noutlierScoreMedio da lacuna\n\np75 e/ou p90 dos benchmarks\n\nn√∫mero de v√≠deos existentes (concorr√™ncia)\n\npresen√ßa ou aus√™ncia de elementos (gatilho, n√∫mero, idade)\n\nGerar um breakdown detalhado (com c√°lculos e racioc√≠nio textual).\n\nüßæ OUTPUT FORMAT\n\nRetorne apenas um JSON v√°lido e parse√°vel:\n\n{\n  \"avaliacao_ideias\": [\n    {\n      \"ranking\": 1,\n      \"titulo\": \"string\",\n      \"score\": number,\n      \"justificativa\": \"string\",\n      \"palavras_chave\": [\"string\"],\n      \"concorrencia\": \"baixa|media|alta\",\n      \"breakdown\": {\n        \"videosExistentes\": number,\n        \"outlierScoreMedio\": number,\n        \"benchmarks\": {\"p75\": 1537.47, \"p90\": 4988.02},\n        \"calculos\": {\n          \"base\": 50,\n          \"similaridade\": \"+25|+15|+10|+0 (explique)\",\n          \"concorrencia\": \"+20|+15|+10|-10|+0 (explique)\",\n          \"gatilho\": \"+8|+0\",\n          \"numero\": \"+10|+0\",\n          \"idade\": \"+5|+0\",\n          \"negativo\": \"+7|+0\"\n        },\n        \"motivoScore\": \"Base(50)+similaridade(...) +concorrencia(...) +gatilho(...) +numero(...) +idade(...) +negativo(...) = subtotal ‚Üí clamp 60‚Äì95\"\n      }\n    }\n  ]\n}\n\n‚ö†Ô∏è REGRAS CR√çTICAS\n\n‚ùå N√£o invente m√©tricas. Use apenas outlierScoreMedio e videosExistentes fornecidos.\n\n‚úÖ Sempre cite benchmarks (p75/p90) na justificativa.\n\n‚úÖ T√≠tulo deve estar em portugu√™s.\n\n‚úÖ Score sempre entre 60 e 95.\n\n‚úÖ Breakdown obrigat√≥rio com todas as vari√°veis.\n\n‚úÖ Justificativa deve explicar o racioc√≠nio ‚Äî n√£o repetir a f√≥rmula.\n\nüß† EXEMPLO DE SA√çDA\n{\n  \"avaliacao_ideias\": [\n    {\n      \"ranking\": 1,\n      \"titulo\": \"ATEN√á√ÉO! 7 Alimentos Que Fortalecem Pernas Depois dos 60\",\n      \"score\": 95,\n      \"justificativa\": \"A lacuna apresenta outlierScore m√©dio de 1079, acima do p75 (1537.47) e pr√≥ximo do p90 (4988.02), indicando alta similaridade com v√≠deos de topo. A concorr√™ncia √© baixa (16 v√≠deos), e o t√≠tulo combina gatilho, n√∫mero e idade, fatores comuns entre os v√≠deos de melhor desempenho.\",\n      \"palavras_chave\": [\"alimentos\",\"fortalecem\",\"pernas\",\"idosos\",\"60\"],\n      \"concorrencia\": \"baixa\",\n      \"breakdown\": {\n        \"videosExistentes\": 16,\n        \"outlierScoreMedio\": 1079,\n        \"benchmarks\": {\"p75\": 1537.47, \"p90\": 4988.02},\n        \"calculos\": {\n          \"base\": 50,\n          \"similaridade\": \"+15 (acima do p75)\",\n          \"concorrencia\": \"+15 (16 v√≠deos)\",\n          \"gatilho\": \"+8 (ATEN√á√ÉO)\",\n          \"numero\": \"+10 ('7')\",\n          \"idade\": \"+5 ('60')\",\n          \"negativo\": \"+0\"\n        },\n        \"motivoScore\": \"Base(50)+15+15+8+10+5=103 ‚Üí clamp=95\"\n      }\n    }\n  ]\n}\n\n‚úÖ CHECKLIST FINAL DE VALIDA√á√ÉO\n\nAntes de retornar o JSON, verifique:\n\nQuantidade:\n\n Cada item tem 1 t√≠tulo v√°lido.\n\nScore:\n\n Entre 60 e 95.\n\n Breakdown completo.\n\n Justificativa com n√∫meros reais.\n\nElementos:\n\n Cita benchmarks p75/p90.\n\n Mostra concorr√™ncia textual.\n\n Explica presen√ßa ou aus√™ncia de gatilho, n√∫mero, idade."
        }
      },
      "type": "@n8n/n8n-nodes-langchain.agent",
      "typeVersion": 2.2,
      "position": [
        1568,
        -64
      ],
      "id": "91cff73e-c29b-40ba-81a3-7c646b401c3d",
      "name": "AI Agent2"
    },
    {
      "parameters": {
        "promptType": "define",
        "text": "=\nTitulo do video: {{ $json.output }}\nTema:{{ $('Loop Over Items').item.json.tema }}\nIdeia Central: {{ $('Loop Over Items').item.json.ideia_central }}\nAngulo:{{ $('Loop Over Items').item.json.angulo }}\nFormado sugerido: {{ $('Loop Over Items').item.json.formato_sugerido }}\ntema principal: {{ $('Loop Over Items').item.json.tema_principal }}\nOportunidade: {{ $('Loop Over Items').item.json.oportunidade }}\n\nP√∫blico-alvo: pessoas 50+ com interesse em sa√∫de, vitalidade e preven√ß√£o",
        "options": {
          "systemMessage": "=<role> Voc√™ √© um **Roteirista de Conte√∫do Viral para YouTube**, especialista em prender aten√ß√£o nos primeiros 15 segundos e gerar engajamento at√© o final. Sua miss√£o √© transformar um **t√≠tulo e ideia aprovada** em um **roteiro estruturado e magn√©tico**, otimizando cada parte para **reten√ß√£o e emo√ß√£o**. </role>\nüì• INPUT\n\nVoc√™ receber√°:\n\nT√≠tulo do v√≠deo\n\nTema\n\nIdeia central\n\n√Çngulo\n\nFormato sugerido\n\nTema principal\n\nOportunidade\n\nScore e justificativa (dados do avaliador)\n\nP√∫blico-alvo: pessoas 50+ com interesse em sa√∫de, vitalidade e preven√ß√£o\n\nüéØ OBJETIVO\n\nCriar um roteiro completo de v√≠deo no estilo educacional emocional, com linguagem acess√≠vel, ritmo fluido e pausas naturais.\nCada bloco deve ter inten√ß√£o clara (atrair, prender, educar ou converter).\n\nüß© ESTRUTURA OBRIGAT√ìRIA\n{{ $('Edit Fields').item.json.Roteiro }}"
        }
      },
      "type": "@n8n/n8n-nodes-langchain.agent",
      "typeVersion": 2.2,
      "position": [
        1920,
        -64
      ],
      "id": "d4edb1ef-9699-4449-9280-7746d0abdb48",
      "name": "AI Agent3"
    },
    {
      "parameters": {
        "model": {
          "__rl": true,
          "mode": "list",
          "value": "gpt-4.1-mini"
        },
        "options": {}
      },
      "type": "@n8n/n8n-nodes-langchain.lmChatOpenAi",
      "typeVersion": 1.2,
      "position": [
        1992,
        160
      ],
      "id": "bc729c1e-f7d6-45e3-b372-914109e6ae04",
      "name": "OpenAI Chat Model3",
      "credentials": {
        "openAiApi": {
          "id": "KLswP7RvatbPMtON",
          "name": "Renato"
        }
      }
    },
    {
      "parameters": {
        "promptType": "define",
        "text": "=\nTitulo do video: {{ $json.output }}\nTema:{{ $('Loop Over Items').item.json.tema }}\nIdeia Central: {{ $('Loop Over Items').item.json.ideia_central }}\nAngulo:{{ $('Loop Over Items').item.json.angulo }}\nFormado sugerido: {{ $('Loop Over Items').item.json.formato_sugerido }}\ntema principal: {{ $('Loop Over Items').item.json.tema_principal }}\nOportunidade: {{ $('Loop Over Items').item.json.oportunidade }}\nRoteiro: {{ $json.output }}\n\nP√∫blico-alvo: pessoas 50+ com interesse em sa√∫de, vitalidade e preven√ß√£o",
        "options": {
          "systemMessage": "=<role> Voc√™ √© um **Designer de Thumbnails para YouTube**, especialista em **atrair cliques em 1 segundo**. Seu papel √© gerar **conceitos visuais poderosos e claros** baseados no **t√≠tulo e no tema central** do v√≠deo. Voc√™ trabalha com **emo√ß√£o, contraste e storytelling visual**, e deve **descrever claramente** como a thumbnail deve ser montada ‚Äî como se estivesse orientando um designer humano a produzi-la. </role>\n\nAn√°lise visual adicional (Thumbs anteriores):\n\n{{ $('Get row(s) in sheet').item.json.Thumb }}\n\nüéØ OBJETIVO\n\nGerar 3 conceitos de thumbnail distintos, cada um com:\n\nDescri√ß√£o visual completa e clara ‚Äì explique detalhadamente o que deve aparecer na imagem: enquadramento, express√£o, objetos, fundo, luz, posi√ß√£o de texto.\n\nComo se fosse um briefing de design para um editor.\n\nTexto da imagem ‚Äì curto e direto (m√°x. 5 palavras).\n\nEmo√ß√£o dominante ‚Äì qual sentimento o rosto ou cena deve expressar.\n\nCores e contraste ‚Äì tons principais e como eles devem se combinar.\n\nJustificativa visual ‚Äì por que a thumbnail chama aten√ß√£o (gatilho visual, contraste emocional, clareza da promessa, etc).\n\nüé® DIRETRIZES DE DESIGN\n\nFoco em rostos humanos e emo√ß√£o vis√≠vel.\n\nTexto grande, leg√≠vel e direto (‚â§5 palavras).\n\nContraste: fundo escuro + texto claro, ou o inverso.\n\nM√°x. 3 elementos principais (rosto + texto + objeto).\n\nCores preferidas: amarelo, vermelho, branco, preto, azul.\n\nA thumb deve funcionar mesmo em 10% do tamanho original.\n\nDeve sempre representar o conflito (problema) e a solu√ß√£o (resultado).\n\nProibido fazer thumbs gen√©ricas ou neutras ‚Äî cada conceito precisa ser visualmente distinto.\n\nüßæ OUTPUT FORMAT\n\nRetorne apenas JSON parse√°vel no formato abaixo:\n\n{\n  \"thumbnails\": [\n    {\n      \"conceito\": 1,\n      \"descricao_visual\": \"string (descri√ß√£o detalhada de toda a composi√ß√£o, incluindo personagens, express√µes, fundo, ilumina√ß√£o, posi√ß√£o do texto, e elementos visuais-chave)\",\n      \"texto_na_imagem\": \"string (at√© 5 palavras, leg√≠vel e com contraste)\",\n      \"emocao_personagem\": \"string (ex: surpresa, al√≠vio, espanto, confian√ßa)\",\n      \"cores_dominantes\": [\"string\"],\n      \"indicacoes_fotografia\": [\"plano m√©dio\", \"close-up\", \"luz lateral\", \"sombra fria\", \"desfoque de fundo\"],\n      \"por_que_funciona\": \"string (explique o gatilho visual e o motivo de chamar aten√ß√£o instantaneamente)\"\n    }\n  ]\n}"
        }
      },
      "type": "@n8n/n8n-nodes-langchain.agent",
      "typeVersion": 2.2,
      "position": [
        2272,
        -64
      ],
      "id": "d2a22768-72ff-4278-b125-d754757f23f2",
      "name": "AI Agent4"
    },
    {
      "parameters": {
        "model": {
          "__rl": true,
          "mode": "list",
          "value": "gpt-4.1-mini"
        },
        "options": {}
      },
      "type": "@n8n/n8n-nodes-langchain.lmChatOpenAi",
      "typeVersion": 1.2,
      "position": [
        2344,
        160
      ],
      "id": "94fd0e98-1696-4ff1-95c3-c7f8498b4c78",
      "name": "OpenAI Chat Model4",
      "credentials": {
        "openAiApi": {
          "id": "KLswP7RvatbPMtON",
          "name": "Renato"
        }
      }
    },
    {
      "parameters": {
        "operation": "append",
        "documentId": {
          "__rl": true,
          "value": "1XlZTABwHA456bYCFRiS8BFLxynypmo65pXeBeRV1WkQ",
          "mode": "list",
          "cachedResultName": "Teste Dev IA Pleno",
          "cachedResultUrl": "https://docs.google.com/spreadsheets/d/1XlZTABwHA456bYCFRiS8BFLxynypmo65pXeBeRV1WkQ/edit?usp=drivesdk"
        },
        "sheetName": {
          "__rl": true,
          "value": 961617875,
          "mode": "list",
          "cachedResultName": "Conte√∫do",
          "cachedResultUrl": "https://docs.google.com/spreadsheets/d/1XlZTABwHA456bYCFRiS8BFLxynypmo65pXeBeRV1WkQ/edit#gid=961617875"
        },
        "columns": {
          "mappingMode": "defineBelow",
          "value": {
            "Data": "18/10/2025",
            "Thumb": "=Conceito: {{ $json.Thumb1_Conceito }}\nDescri√ß√£o: {{ $json.Thumb1_Descricao }}\nTexto: {{ $json.Thumb1_Texto }}\nCores: {{ $json.Thumb1_Cores }}\nFotografia: {{ $json.Thumb1_Fotografia }}\n\nExplica√ß√£o: {{ $json.Thumb1_Porque }}\n\nConceito: {{ $json.Thumb2_Conceito }}\nDescri√ß√£o: {{ $json.Thumb2_Descricao }}\nTexto:{{ $json.Thumb2_Texto }}\nCores: {{ $json.Thumb2_Cores }}\nFotografia: {{ $json.Thumb2_Fotografia }}\n\nExplica√ß√£o: {{ $json.Thumb2_Porque }}\n\n\nConceito: {{ $json.Thumb3_Conceito }}\nDescri√ß√£o: {{ $json.Thumb3_Descricao }}\nTexto: {{ $json.Thumb3_Texto }}\nCores: {{ $json.Thumb3_Cores }}\nFotografia: {{ $json.Thumb3_Fotografia }}\n\nExplica√ß√£o: {{ $json.Thumb3_Porque }}",
            "Roteiro": "={{ $('AI Agent3').item.json.output }}",
            "Pontua√ß√£o": "=Score {{ $json.Score }}\n\nJustificativa: {{ $json.Justificativa }}\n\nConcorrencia: {{ $json.Concorrencia }}\n\nVideo Existentes: {{ $json.Videos_Existentes }}\n\nOutlierScoreMedio:{{ $json.Outlier_Score_Medio }}\nBenchMark P75:{{ $json.Benchmark_P75 }}\nBenchMark P90:{{ $json.Benchmark_P90 }}\n\nCalculo Base: \n\nCalculo Similaridade:{{ $json.Calculo_Similaridade }}\nCalculo Concorrencia:{{ $json.Calculo_Concorrencia }}\nCalculo Gatilho: {{ $json.Calculo_Gatilho }}\nCalculo N√∫mero:{{ $json.Calculo_Numero }}\n\nMotivo Score: {{ $json.Motivo_Score }}\n",
            "Titulo": "={{ $json.Titulo }}",
            "Nicho": "={{ $('Loop Over Items').item.json.tema }}",
            "Justificativa": "={{ $('Loop Over Items').item.json.oportunidade }}",
            "Palavras_Chave": "={{ $json.Palavras_Chave }}",
            "Ideia": "={{ $('Loop Over Items').item.json.ideia_central }}",
            "Estrutura Explicada": "=Gatilho Usado:  {{ $json.Gatilho_Usado }}\nN√∫mero Usado: {{ $json.Numero_Usado }}\nEstrutura aplicada: {{ $json.Estrutura_Aplicada }}\n\nOrigem: {{ $json.Origem }}"
          },
          "matchingColumns": [],
          "schema": [
            {
              "id": "Nicho",
              "displayName": "Nicho",
              "required": false,
              "defaultMatch": false,
              "display": true,
              "type": "string",
              "canBeUsedToMatch": true
            },
            {
              "id": "Data",
              "displayName": "Data",
              "required": false,
              "defaultMatch": false,
              "display": true,
              "type": "string",
              "canBeUsedToMatch": true
            },
            {
              "id": "Ideia",
              "displayName": "Ideia",
              "required": false,
              "defaultMatch": false,
              "display": true,
              "type": "string",
              "canBeUsedToMatch": true,
              "removed": false
            },
            {
              "id": "Justificativa",
              "displayName": "Justificativa",
              "required": false,
              "defaultMatch": false,
              "display": true,
              "type": "string",
              "canBeUsedToMatch": true
            },
            {
              "id": "Palavras_Chave",
              "displayName": "Palavras_Chave",
              "required": false,
              "defaultMatch": false,
              "display": true,
              "type": "string",
              "canBeUsedToMatch": true
            },
            {
              "id": "Titulo",
              "displayName": "Titulo",
              "required": false,
              "defaultMatch": false,
              "display": true,
              "type": "string",
              "canBeUsedToMatch": true
            },
            {
              "id": "Estrutura Explicada",
              "displayName": "Estrutura Explicada",
              "required": false,
              "defaultMatch": false,
              "display": true,
              "type": "string",
              "canBeUsedToMatch": true,
              "removed": false
            },
            {
              "id": "Pontua√ß√£o",
              "displayName": "Pontua√ß√£o",
              "required": false,
              "defaultMatch": false,
              "display": true,
              "type": "string",
              "canBeUsedToMatch": true
            },
            {
              "id": "Thumb",
              "displayName": "Thumb",
              "required": false,
              "defaultMatch": false,
              "display": true,
              "type": "string",
              "canBeUsedToMatch": true
            },
            {
              "id": "Roteiro",
              "displayName": "Roteiro",
              "required": false,
              "defaultMatch": false,
              "display": true,
              "type": "string",
              "canBeUsedToMatch": true
            }
          ],
          "attemptToConvertTypes": false,
          "convertFieldsToString": false
        },
        "options": {}
      },
      "type": "n8n-nodes-base.googleSheets",
      "typeVersion": 4.7,
      "position": [
        3072,
        60
      ],
      "id": "025bd708-a1c5-4ea4-aabf-87ef42976966",
      "name": "Append row in sheet",
      "credentials": {
        "googleSheetsOAuth2Api": {
          "id": "KrBqg4twP2wKcI6z",
          "name": "Google Sheets account"
        }
      }
    },
    {
      "parameters": {
        "jsCode": "// =============================================\n// LIMPAR JSON COMPLETO - SEM ROTEIRO\n// =============================================\n\nconst items = $input.all();\n\nconst dadosLimpos = items.map(item => {\n  const data = item.json;\n  \n  // =============================================\n  // FUN√á√ÉO PARA FAZER PARSE SEGURO\n  // =============================================\n  function parseSafe(campo) {\n    if (!campo) return '';\n    if (typeof campo !== 'string') return String(campo);\n    \n    try {\n      return JSON.parse(campo);\n    } catch (e) {\n      return campo;\n    }\n  }\n  \n  // =============================================\n  // EXTRAIR T√çTULO COMPLETO\n  // =============================================\n  let ranking_titulo = '';\n  let titulo = '';\n  let gatilho_usado = '';\n  let numero_usado = '';\n  let estrutura_aplicada = '';\n  let origem = '';\n  \n  const tituloData = parseSafe(data.Titulo);\n  \n  if (tituloData && typeof tituloData === 'object') {\n    if (tituloData.titulos_otimizados && tituloData.titulos_otimizados[0]) {\n      const opt = tituloData.titulos_otimizados[0];\n      \n      ranking_titulo = opt.ranking || '';\n      titulo = opt.titulo || '';\n      gatilho_usado = opt.gatilho_usado || '';\n      numero_usado = opt.numero_usado || '';\n      estrutura_aplicada = opt.estrutura_aplicada || '';\n      origem = opt.origem || '';\n    }\n  } else {\n    titulo = tituloData;\n  }\n  \n  // =============================================\n  // EXTRAIR PONTUA√á√ÉO (JUSTIFICATIVA)\n  // =============================================\n  let ranking_avaliacao = '';\n  let titulo_avaliacao = '';\n  let score = '';\n  let justificativa = '';\n  let palavras_chave = '';\n  let concorrencia = '';\n  let videos_existentes = '';\n  let outlier_score_medio = '';\n  let benchmark_p75 = '';\n  let benchmark_p90 = '';\n  let calculo_base = '';\n  let calculo_similaridade = '';\n  let calculo_concorrencia = '';\n  let calculo_gatilho = '';\n  let calculo_numero = '';\n  let calculo_idade = '';\n  let calculo_negativo = '';\n  let motivo_score = '';\n  \n  const pontuacaoData = parseSafe(data['Pontua√ß√£o'] || data.Pontuacao || data.Justificativa);\n  \n  if (pontuacaoData && typeof pontuacaoData === 'object') {\n    if (pontuacaoData.avaliacao_ideias && pontuacaoData.avaliacao_ideias[0]) {\n      const avaliacao = pontuacaoData.avaliacao_ideias[0];\n      \n      ranking_avaliacao = avaliacao.ranking || '';\n      titulo_avaliacao = avaliacao.titulo || '';\n      score = avaliacao.score || '';\n      justificativa = avaliacao.justificativa || '';\n      concorrencia = avaliacao.concorrencia || '';\n      \n      // Palavras-chave (array para string)\n      if (avaliacao.palavras_chave && Array.isArray(avaliacao.palavras_chave)) {\n        palavras_chave = avaliacao.palavras_chave.join(', ');\n      }\n      \n      // Breakdown\n      if (avaliacao.breakdown) {\n        const bd = avaliacao.breakdown;\n        \n        videos_existentes = bd.videosExistentes || '';\n        outlier_score_medio = bd.outlierScoreMedio || '';\n        \n        // Benchmarks\n        if (bd.benchmarks) {\n          benchmark_p75 = bd.benchmarks.p75 || '';\n          benchmark_p90 = bd.benchmarks.p90 || '';\n        }\n        \n        // C√°lculos\n        if (bd.calculos) {\n          const calc = bd.calculos;\n          calculo_base = calc.base || '';\n          calculo_similaridade = calc.similaridade || '';\n          calculo_concorrencia = calc.concorrencia || '';\n          calculo_gatilho = calc.gatilho || '';\n          calculo_numero = calc.numero || '';\n          calculo_idade = calc.idade || '';\n          calculo_negativo = calc.negativo || '';\n        }\n        \n        motivo_score = bd.motivoScore || '';\n      }\n    }\n  }\n  \n  // =============================================\n  // EXTRAIR THUMBNAILS (3 CONCEITOS)\n  // =============================================\n  let thumb1_conceito = '', thumb1_descricao = '', thumb1_texto = '', thumb1_emocao = '', thumb1_cores = '', thumb1_fotografia = '', thumb1_porque = '';\n  let thumb2_conceito = '', thumb2_descricao = '', thumb2_texto = '', thumb2_emocao = '', thumb2_cores = '', thumb2_fotografia = '', thumb2_porque = '';\n  let thumb3_conceito = '', thumb3_descricao = '', thumb3_texto = '', thumb3_emocao = '', thumb3_cores = '', thumb3_fotografia = '', thumb3_porque = '';\n  \n  const thumbData = parseSafe(data.Thumb);\n  \n  if (thumbData && typeof thumbData === 'object' && thumbData.thumbnails) {\n    // THUMBNAIL 1\n    if (thumbData.thumbnails[0]) {\n      const t1 = thumbData.thumbnails[0];\n      thumb1_conceito = t1.conceito || '';\n      thumb1_descricao = t1.descricao_visual || '';\n      thumb1_texto = t1.texto_na_imagem || '';\n      thumb1_emocao = t1.emocao_personagem || '';\n      thumb1_cores = Array.isArray(t1.cores_dominantes) ? t1.cores_dominantes.join(', ') : '';\n      thumb1_fotografia = Array.isArray(t1.indicacoes_fotografia) ? t1.indicacoes_fotografia.join(', ') : '';\n      thumb1_porque = t1.por_que_funciona || '';\n    }\n    \n    // THUMBNAIL 2\n    if (thumbData.thumbnails[1]) {\n      const t2 = thumbData.thumbnails[1];\n      thumb2_conceito = t2.conceito || '';\n      thumb2_descricao = t2.descricao_visual || '';\n      thumb2_texto = t2.texto_na_imagem || '';\n      thumb2_emocao = t2.emocao_personagem || '';\n      thumb2_cores = Array.isArray(t2.cores_dominantes) ? t2.cores_dominantes.join(', ') : '';\n      thumb2_fotografia = Array.isArray(t2.indicacoes_fotografia) ? t2.indicacoes_fotografia.join(', ') : '';\n      thumb2_porque = t2.por_que_funciona || '';\n    }\n    \n    // THUMBNAIL 3\n    if (thumbData.thumbnails[2]) {\n      const t3 = thumbData.thumbnails[2];\n      thumb3_conceito = t3.conceito || '';\n      thumb3_descricao = t3.descricao_visual || '';\n      thumb3_texto = t3.texto_na_imagem || '';\n      thumb3_emocao = t3.emocao_personagem || '';\n      thumb3_cores = Array.isArray(t3.cores_dominantes) ? t3.cores_dominantes.join(', ') : '';\n      thumb3_fotografia = Array.isArray(t3.indicacoes_fotografia) ? t3.indicacoes_fotografia.join(', ') : '';\n      thumb3_porque = t3.por_que_funciona || '';\n    }\n  }\n  \n  // =============================================\n  // ROTEIRO REMOVIDO CONFORME SOLICITADO\n  // =============================================\n  \n  // =============================================\n  // RETORNAR DADOS LIMPOS\n  // =============================================\n  return {\n    // T√çTULO\n    Ranking_Titulo: ranking_titulo,\n    Titulo: titulo,\n    Gatilho_Usado: gatilho_usado,\n    Numero_Usado: numero_usado,\n    Estrutura_Aplicada: estrutura_aplicada,\n    Origem: origem,\n    \n    // AVALIA√á√ÉO/PONTUA√á√ÉO\n    Ranking_Avaliacao: ranking_avaliacao,\n    Titulo_Avaliacao: titulo_avaliacao,\n    Score: score,\n    Justificativa: justificativa,\n    Palavras_Chave: palavras_chave,\n    Concorrencia: concorrencia,\n    \n    // BREAKDOWN\n    Videos_Existentes: videos_existentes,\n    Outlier_Score_Medio: outlier_score_medio,\n    Benchmark_P75: benchmark_p75,\n    Benchmark_P90: benchmark_p90,\n    Calculo_Base: calculo_base,\n    Calculo_Similaridade: calculo_similaridade,\n    Calculo_Concorrencia: calculo_concorrencia,\n    Calculo_Gatilho: calculo_gatilho,\n    Calculo_Numero: calculo_numero,\n    Calculo_Idade: calculo_idade,\n    Calculo_Negativo: calculo_negativo,\n    Motivo_Score: motivo_score,\n    \n    // THUMBNAIL 1\n    Thumb1_Conceito: thumb1_conceito,\n    Thumb1_Descricao: thumb1_descricao,\n    Thumb1_Texto: thumb1_texto,\n    Thumb1_Emocao: thumb1_emocao,\n    Thumb1_Cores: thumb1_cores,\n    Thumb1_Fotografia: thumb1_fotografia,\n    Thumb1_Porque: thumb1_porque,\n    \n    // THUMBNAIL 2\n    Thumb2_Conceito: thumb2_conceito,\n    Thumb2_Descricao: thumb2_descricao,\n    Thumb2_Texto: thumb2_texto,\n    Thumb2_Emocao: thumb2_emocao,\n    Thumb2_Cores: thumb2_cores,\n    Thumb2_Fotografia: thumb2_fotografia,\n    Thumb2_Porque: thumb2_porque,\n    \n    // THUMBNAIL 3\n    Thumb3_Conceito: thumb3_conceito,\n    Thumb3_Descricao: thumb3_descricao,\n    Thumb3_Texto: thumb3_texto,\n    Thumb3_Emocao: thumb3_emocao,\n    Thumb3_Cores: thumb3_cores,\n    Thumb3_Fotografia: thumb3_fotografia,\n    Thumb3_Porque: thumb3_porque,\n    \n    // METADATA\n    Nicho: data.Nicho || '',\n    Data: data.Data || ''\n  };\n});\n\n// Log para debug\nconsole.log(`‚úÖ ${dadosLimpos.length} registros processados`);\nconsole.log('üìù Primeiro registro (sample):');\nconsole.log('   Titulo:', dadosLimpos[0]?.Titulo);\nconsole.log('   Score:', dadosLimpos[0]?.Score);\nconsole.log('   Thumb1_Texto:', dadosLimpos[0]?.Thumb1_Texto);\n\n// Retornar\nreturn dadosLimpos.map(d => ({ json: d }));\n"
      },
      "type": "n8n-nodes-base.code",
      "typeVersion": 2,
      "position": [
        2848,
        -64
      ],
      "id": "9084bcd7-5f7e-4edc-b872-fbf36d3093b4",
      "name": "Code in JavaScript1"
    },
    {
      "parameters": {
        "assignments": {
          "assignments": [
            {
              "id": "fc6fdc37-4d9d-498d-9516-0de11fd1aea6",
              "name": "Titulo",
              "value": "={{ $('AI Agent1').item.json.output }}",
              "type": "string"
            },
            {
              "id": "e3f80aab-98e7-4e0b-9031-359829c0ef63",
              "name": "Pontua√ß√£o",
              "value": "={{ $('AI Agent2').item.json.output }}",
              "type": "string"
            },
            {
              "id": "a918e118-81b2-46c2-af3b-d2319d8bad59",
              "name": "",
              "value": "={{ $('Code in JavaScript').item.json.oportunidade }}",
              "type": "string"
            },
            {
              "id": "8d63d1ac-bca5-4c58-94e0-fa878296caad",
              "name": "Thumb",
              "value": "={{ $json.output }}",
              "type": "string"
            }
          ]
        },
        "options": {}
      },
      "type": "n8n-nodes-base.set",
      "typeVersion": 3.4,
      "position": [
        2624,
        -64
      ],
      "id": "3517ad8c-cffc-4064-aeae-e8a62271b4a0",
      "name": "Edit Fields1"
    }
  ],
  "pinData": {
    "Edit Fields1": [
      {
        "json": {
          "Titulo": "{\n  \"titulos_otimizados\": [\n    {\n      \"ranking\": 1,\n      \"titulo\": \"Goodbye Pernas Fracas: 5 Vitaminas Para Fortalecer Suas Pernas Agora!\",\n      \"gatilho_usado\": \"urg√™ncia\",\n      \"numero_usado\": 5,\n      \"estrutura_aplicada\": \"Gatilho (Despedida) + Sintomas + N√∫mero + Alimento/Suplemento\",\n      \"origem\": \"Explorar uma combina√ß√£o espec√≠fica de vitaminas que melhoram a for√ßa das pernas em idosos, destacando os resultados positivos de pessoas que as utilizaram.\"\n    }\n  ]\n}",
          "Pontua√ß√£o": "{\n  \"avaliacao_ideias\": [\n    {\n      \"ranking\": 1,\n      \"titulo\": \"Goodbye Pernas Fracas: 5 Vitaminas Para Fortalecer Suas Pernas Agora!\",\n      \"score\": 95,\n      \"justificativa\": \"A lacuna apresenta um outlierScore m√©dio de 1956.42, bem acima do p90 (512.33), indicando excelente similaridade com v√≠deos de topo. A concorr√™ncia √© baixa, com apenas 2 v√≠deos existentes, e o t√≠tulo utiliza o gatilho emocional 'Goodbye' e um n√∫mero espec√≠fico, que s√£o fatores eficazes no aumento da aten√ß√£o da audi√™ncia.\",\n      \"palavras_chave\": [\"vitaminas\", \"fortalecer\", \"pernas\", \"fracas\", \"agora\"],\n      \"concorrencia\": \"baixa\",\n      \"breakdown\": {\n        \"videosExistentes\": 2,\n        \"outlierScoreMedio\": 1956.42,\n        \"benchmarks\": {\"p75\": 121.57, \"p90\": 512.33},\n        \"calculos\": {\n          \"base\": 50,\n          \"similaridade\": \"+25 (acima do p90)\",\n          \"concorrencia\": \"+20 (menos de 5 v√≠deos)\",\n          \"gatilho\": \"+8 (Goodbye)\",\n          \"numero\": \"+10 ('5')\",\n          \"idade\": \"+0\",\n          \"negativo\": \"+0\"\n        },\n        \"motivoScore\": \"Base(50)+25+20+8+10=113 ‚Üí clamp=95\"\n      }\n    }\n  ]\n}",
          "": "Baixa concorr√™ncia e alta pontua√ß√£o no outlier score indicam que esse conte√∫do pode atrair visualiza√ß√µes significativas.",
          "Thumb": "{\n  \"thumbnails\": [\n    {\n      \"conceito\": 1,\n      \"descricao_visual\": \"Close-up de um idoso sorridente (homem ou mulher entre 55 e 70 anos) em plano m√©dio direito na imagem, vestido com roupas claras que contrastem com o fundo. A express√£o deve transmitir confian√ßa e leve motiva√ß√£o, com olhar direto para a c√¢mera. O fundo √© um gradiente escuro (preto para azul escuro) que amplia o contraste. √Ä esquerda, o texto grande em 3 linhas: 'PERNAS' (amarelo vibrante, caixa alta, negrito), 'FORTE' (vermelho vibrante, caixa alta, negrito), 'AGORA' (branco, caixa alta, negrito) dentro de uma faixa semi-transparente preta que separa o texto da imagem. Uma seta vermelha grande parte do rosto e aponta para o texto, guiando o olhar. Ilumina√ß√£o suave lateral direita para dar volume ao rosto, evitando sombras muito pesadas. O rosto ocupa cerca de 50% da largura total para manter foco humano, sem elementos excessivos.\",\n      \"texto_na_imagem\": \"PERNAS FORTE AGORA\",\n      \"emocao_personagem\": \"confian√ßa motivacional\",\n      \"cores_dominantes\": [\"preto\", \"azul escuro\", \"amarelo\", \"vermelho\", \"branco\"],\n      \"indicacoes_fotografia\": [\"plano m√©dio\", \"close-up\", \"luz lateral suave\", \"fundo desfocado com gradiente\"],\n      \"por_que_funciona\": \"A combina√ß√£o do rosto humano com olhar direto transmite conex√£o emocional r√°pida. O texto em cores quentes e vibrantes sobre fundo escuro tem alta legibilidade instant√¢nea. A seta vermelha guia o foco visual entre sujeito e texto, aumentando o engajamento e clareza da promessa de fortalecer as pernas agora.\"\n    },\n    {\n      \"conceito\": 2,\n      \"descricao_visual\": \"Divis√£o em duas partes horizontais: na direita, close-up de m√£os segurando comprimidos coloridos representando vitaminas, com foco n√≠tido e luz natural suave, fundo preto desfocado para alto contraste; √† esquerda, uma pessoa idosa sentada sorrindo levemente e olhando para os comprimidos, mostrando leve esperan√ßa e decis√£o. O fundo geral escuro com suave ilumina√ß√£o no sujeito. Texto grande em 3 linhas √† esquerda na parte superior: 'DIGA ADEUS' (vermelho forte), 'PERNAS FRACAS' (amarelo vibrante), 'AGORA!' (branco), todos em mai√∫sculas e negrito. Uma caixa vermelha transl√∫cida destaca o primeiro texto para urg√™ncia. Uma seta vermelha aponta das m√£os para o texto, orientando o olhar do espectador.\",\n      \"texto_na_imagem\": \"DIGA ADEUS PERNAS\",\n      \"emocao_personagem\": \"esperan√ßa decidida\",\n      \"cores_dominantes\": [\"preto\", \"vermelho\", \"amarelo\", \"branco\"],\n      \"indicacoes_fotografia\": [\"close-up\", \"plano m√©dio\", \"luz natural suave\", \"alto contraste\"],\n      \"por_que_funciona\": \"A composi√ß√£o contrap√µe o problema (m√£os com vitaminas) e a solu√ß√£o (express√£o do idoso esperan√ßoso). O texto segmentado em cores quentes marca hierarquia visual e cria urg√™ncia na mensagem. A seta direciona o foco e a paleta escura valoriza o tema de sa√∫de e seriedade.\"\n    },\n    {\n      \"conceito\": 3,\n      \"descricao_visual\": \"Super close-up do rosto de um idoso (mulher ou homem) √† direita, com express√£o facial aliviada e leve sorriso de satisfa√ß√£o, olhando de lado na dire√ß√£o do texto. O fundo √© preto intenso com luz concentrada que contorna o rosto, criando um efeito de halo. √Ä esquerda, o texto em 4 linhas grandes e leg√≠veis: '5 VITAMINAS', 'PARA', 'PERNAS', 'FORTES', em amarelo e vermelho alternados em negrito, cada linha em caixa alta. As palavras '5 VITAMINAS' e 'FORTES' em amarelo, e 'PARA' e 'PERNAS' em vermelho para criar din√¢mica. Uma caixa amarela transparente destaca a √∫ltima linha para foco final. Uma seta vermelha aponta do rosto para o texto, fechando o c√≠rculo visual. Luz suave frontal para evidenciar rugas e express√µes de experi√™ncia e esperan√ßa.\",\n      \"texto_na_imagem\": \"5 VITAMINAS PERNAS FORTES\",\n      \"emocao_personagem\": \"al√≠vio e esperan√ßa\",\n      \"cores_dominantes\": [\"preto\", \"amarelo\", \"vermelho\", \"branco\"],\n      \"indicacoes_fotografia\": [\"super close-up\", \"luz lateral e frontal suave\", \"alto contraste\"],\n      \"por_que_funciona\": \"O rosto em super close gera empatia imediata e emo√ß√£o aut√™ntica, enquanto o texto grande segmentado e colorido capta a aten√ß√£o e enfatiza a solu√ß√£o clara. A seta vermelha atua como elemento de direcionamento focando o olhar e refor√ßando a promessa do v√≠deo.\"\n    }\n  ]\n}",
          "Roteiro": "**Roteiro Completo para YouTube**\n\n---\n\n### T√≠tulo:  \n**Goodbye Pernas Fracas: 5 Vitaminas Para Fortalecer Suas Pernas Agora!**\n\n---\n\n### 1. Abertura (0:00‚Äì0:30)  \n**Inten√ß√£o:** Atrair pela emo√ß√£o e criar expectativa clara e motivacional.\n\n- [Cena inicial: Imagens de idosos caminhando com facilidade, sorrindo e aproveitando a vida.]  \n- Narrador (tom acolhedor e encorajador):  \n  *‚ÄúVoc√™ j√° sentiu suas pernas mais fracas do que antes? Aquele medo de perder a independ√™ncia e a liberdade de se mover com facilidade? Imagine dizer ‚ÄòGoodbye‚Äô para as pernas cansadas, recuperando a for√ßa e vitalidade que voc√™ merece...‚Äù*   \n  *‚ÄúHoje, vou revelar 5 vitaminas poderosas que podem transformar suas pernas e sua vida ‚Äî para que voc√™ volte a caminhar confiante, leve e independente.‚Äù*  \n\n- Pausa estrat√©gica para criar suspense.  \n- *‚ÄúFique comigo at√© o final, e descubra depoimentos reais de quem voltou a se mexer melhor, protegendo a sa√∫de das pernas aos 50 anos e al√©m.‚Äù*  \n\n---\n\n### 2. Desenvolvimento\n\n---\n\n#### 2.1. Apresenta√ß√£o do Problema (0:30‚Äì1:00)  \n**Inten√ß√£o:** Conectar e validar o desafio enfrentado pelo p√∫blico\n\n- Narrador:  \n  *‚Äú√Ä medida que envelhecemos, √© comum sentir as pernas mais fr√°geis ‚Äî isso pode afetar desde a caminhada at√© o simples ato de levantar da cadeira. A falta de algumas vitaminas essenciais pode ser uma das causas silenciosas desse problema.‚Äù*  \n- Imagens: idosos mostrando dificuldades leves e depois recuperando mobilidade.\n\n- *‚ÄúMas a boa not√≠cia √© que pequenas mudan√ßas nutricionais podem fazer toda a diferen√ßa.‚Äù*  \n\n---\n\n#### 2.2. Apresenta√ß√£o das 5 Vitaminas (1:00‚Äì4:00)  \n**Inten√ß√£o:** Educar com explica√ß√µes acess√≠veis, exemplos pr√°ticos e benef√≠cios claros.  \n\n- Transi√ß√£o: *‚ÄúAgora que voc√™ entende o que pode estar acontecendo, vamos para as 5 vitaminas que fortalecem suas pernas.‚Äù*\n\n- **Vitamina D**  \n  Narrador:  \n  *‚ÄúA Vitamina D √© essencial para a sa√∫de √≥ssea e muscular, ajudando a prevenir quedas e fraqueza. Voc√™ pode encontr√°-la em alimentos como peixes e ovos, ou via suplementa√ß√£o.‚Äù*  \n- Visual: alimentos ricos em Vitamina D + gr√°fico simples ilustrando fortalecimento muscular.  \n\n- **Vitamina B12**  \n  Narrador:  \n  *‚ÄúA Vitamina B12 √© fundamental para a fun√ß√£o nervosa e energia muscular. Sem ela, seus m√∫sculos podem ficar fracos.‚Äù*  \n- Visual: fontes alimentares e suplemento.  \n\n- **Vitamina C**  \n  Narrador:  \n  *‚ÄúA Vitamina C ajuda na produ√ß√£o de col√°geno, estrutura vital para tend√µes e ligamentos das pernas.‚Äù*  \n- Visual: frutas c√≠tricas e ilustra√ß√£o da pele e tecidos musculares.  \n\n- **Vitamina E**  \n  Narrador:  \n  *‚ÄúA Vitamina E protege as c√©lulas musculares contra danos oxidativos, contribuindo para a recupera√ß√£o e resist√™ncia.‚Äù*  \n\n- **Vitamina B6**  \n  Narrador:  \n  *‚ÄúA Vitamina B6 facilita a energia nas c√©lulas musculares, essencial para for√ßa e vitalidade.‚Äù*  \n\n- Intercalado: *‚ÄúIncluir essas vitaminas na sua rotina n√£o √© s√≥ uma escolha ‚Äî √© um passo rumo a pernas mais fortes, para que voc√™ mantenha sua independ√™ncia.‚Äù*  \n\n---\n\n#### 2.3. Relato Pessoal / Depoimento (4:00‚Äì5:00)  \n**Inten√ß√£o:** Criar conex√£o emocional e confian√ßa pelo exemplo real.\n\n- Corta para depoimento (pode ser representa√ß√£o dramatizada ou real):  \n  *‚ÄúDepois que comecei a cuidar da minha alimenta√ß√£o e inclu√≠ essas vitaminas, minha mobilidade melhorou demais. Voltei a passear no parque sem medo, e minha fam√≠lia percebeu a diferen√ßa.‚Äù*  \n\n- Narrador:  \n  *‚ÄúHist√≥rias como essa mostram que fortalecer as pernas vai muito al√©m do f√≠sico ‚Äî √© sobre continuar vivendo plenamente.‚Äù*  \n\n---\n\n### 3. Transi√ß√£o para Fechamento (5:00‚Äì5:10)  \n- *‚ÄúAgora que voc√™ conhece estas vitaminas essenciais, que tal descobrir como come√ßar hoje mesmo?‚Äù*  \n\n---\n\n### 4. Call to Action (5:10‚Äì5:30)  \n**Inten√ß√£o:** Motivar engajamento e a√ß√£o de forma natural e positiva.  \n\n- Narrador:  \n  *‚ÄúSe voc√™ quer fortalecer suas pernas e entender mais sobre cada vitamina, deixe seu like e compartilhe este v√≠deo com quem precisa dessa for√ßa.‚Äù*  \n  *‚ÄúComente aqui: qual vitamina voc√™ j√° conhece ou gostaria de incluir na sua rotina? Vamos juntos nessa jornada de sa√∫de e vitalidade!‚Äù*  \n  *‚ÄúE n√£o se esque√ßa de se inscrever no canal para receber mais dicas que v√£o mudar sua vida.‚Äù*  \n\n- Imagem final: convite visual para like, coment√°rio e inscri√ß√£o, com m√∫sica suave e positiva.\n\n---\n\n### 5. Fechamento (5:30‚Äì5:40)  \n- Narrador (tom motivacional):  \n  *‚ÄúLembre-se: for√ßa nas pernas √© for√ßa para a vida. Comece hoje, e diga ‚ÄòGoodbye‚Äô para pernas fracas!‚Äù*  \n\n- Fade out com logo do canal e m√∫sica inspiradora.\n\n---\n\n## Considera√ß√µes t√©cnicas e de estilo\n\n- **Tom:** Did√°tico, acolhedor, motivacional.  \n- **Linguagem:** Simples, acess√≠vel, sem jarg√µes.  \n- **Ritmo:** Varia√ß√£o na energia da fala; pausas para destaque.  \n- **Transi√ß√µes:** Verbais claras e naturais conectando cada bloco.  \n- **Exemplos pr√°ticos:** Apresentados ap√≥s a explica√ß√£o t√©cnica de cada vitamina.  \n- **Engajamento:** Depoimento para conex√£o emocional; CTA simples e pertinente.  \n\n---\n\n**Esse roteiro est√° alinhado com as melhores pr√°ticas para reten√ß√£o e engajamento, respeitando o perfil do p√∫blico 50+ que busca sa√∫de e independ√™ncia.**"
        }
      }
    ]
  },
  "connections": {
    "When clicking ‚ÄòExecute workflow‚Äô": {
      "main": [
        [
          {
            "node": "Get row(s) in sheet",
            "type": "main",
            "index": 0
          }
        ]
      ]
    },
    "OpenAI Chat Model": {
      "ai_languageModel": [
        [
          {
            "node": "AI Agent",
            "type": "ai_languageModel",
            "index": 0
          }
        ]
      ]
    },
    "Get row(s) in sheet": {
      "main": [
        [
          {
            "node": "Edit Fields",
            "type": "main",
            "index": 0
          }
        ]
      ]
    },
    "Edit Fields": {
      "main": [
        [
          {
            "node": "AI Agent",
            "type": "main",
            "index": 0
          }
        ]
      ]
    },
    "AI Agent": {
      "main": [
        [
          {
            "node": "Code in JavaScript",
            "type": "main",
            "index": 0
          }
        ]
      ]
    },
    "Code in JavaScript": {
      "main": [
        [
          {
            "node": "Loop Over Items",
            "type": "main",
            "index": 0
          }
        ]
      ]
    },
    "Loop Over Items": {
      "main": [
        [],
        [
          {
            "node": "AI Agent1",
            "type": "main",
            "index": 0
          }
        ]
      ]
    },
    "OpenAI Chat Model1": {
      "ai_languageModel": [
        [
          {
            "node": "AI Agent1",
            "type": "ai_languageModel",
            "index": 0
          }
        ]
      ]
    },
    "OpenAI Chat Model2": {
      "ai_languageModel": [
        [
          {
            "node": "AI Agent2",
            "type": "ai_languageModel",
            "index": 0
          }
        ]
      ]
    },
    "AI Agent1": {
      "main": [
        [
          {
            "node": "AI Agent2",
            "type": "main",
            "index": 0
          }
        ]
      ]
    },
    "AI Agent2": {
      "main": [
        [
          {
            "node": "AI Agent3",
            "type": "main",
            "index": 0
          }
        ]
      ]
    },
    "OpenAI Chat Model3": {
      "ai_languageModel": [
        [
          {
            "node": "AI Agent3",
            "type": "ai_languageModel",
            "index": 0
          }
        ]
      ]
    },
    "AI Agent3": {
      "main": [
        [
          {
            "node": "AI Agent4",
            "type": "main",
            "index": 0
          }
        ]
      ]
    },
    "OpenAI Chat Model4": {
      "ai_languageModel": [
        [
          {
            "node": "AI Agent4",
            "type": "ai_languageModel",
            "index": 0
          }
        ]
      ]
    },
    "AI Agent4": {
      "main": [
        [
          {
            "node": "Edit Fields1",
            "type": "main",
            "index": 0
          }
        ]
      ]
    },
    "Append row in sheet": {
      "main": [
        [
          {
            "node": "Loop Over Items",
            "type": "main",
            "index": 0
          }
        ]
      ]
    },
    "Code in JavaScript1": {
      "main": [
        [
          {
            "node": "Append row in sheet",
            "type": "main",
            "index": 0
          }
        ]
      ]
    },
    "Edit Fields1": {
      "main": [
        [
          {
            "node": "Code in JavaScript1",
            "type": "main",
            "index": 0
          }
        ]
      ]
    }
  },
  "active": false,
  "settings": {
    "executionOrder": "v1"
  },
  "versionId": "71990680-dfd7-4997-b467-efaa40fa6058",
  "meta": {
    "templateCredsSetupCompleted": true,
    "instanceId": "c5d6c53e60bd1d3aa2e715f321339a9825e6c2e5b18beaf3f0749145af2adffd"
  },
  "id": "NCZXlFUbBV9UJf1Q",
  "tags": []
}